<html>
    <head>
        <title>Flows</title>
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
    </head>
    <body>
        <center>
            <h7>Flows</h7>
        </center>

 <ul>
 <li><a href="#container">Container</a></li>
 <li><a href="#nodes">Nodes</a></li>
 <li><a href="#routers">Routers</a></li>
 <li><a href="#waits">Waits</a></li>
 <li><a href="#actions">Actions</a></li>
 </ul>  

<h1 id="container">Container</h1>
<p>Flow definitions are defined as a list of nodes, the first node being the entry into the flow. The simplest possible flow containing no nodes whatsoever (and therefore being a no-op) contains the following fields:</p>
<ul>
<li><code>uuid</code> the UUID</li>
<li><code>name</code> the name</li>
<li><code>language</code> the base authoring language used for localization</li>
<li><code>type</code> the type, one of <code>messaging</code>, <code>messaging_offline</code>, <code>voice</code> whcih determines which actions are allowed in the flow</li>
<li><code>nodes</code> the nodes (may be empty)</li>
</ul>
<p>For example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;b7bb5e7c-ad49-4e65-9e24-bf7f1e4ff00a&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Empty Flow&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">    <span class="dt">&quot;language&quot;</span><span class="fu">:</span> <span class="st">&quot;eng&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;messaging&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">    <span class="dt">&quot;nodes&quot;</span><span class="fu">:</span> <span class="ot">[]</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="fu">}</span></a></code></pre></div>
<h1 id="nodes">Nodes</h1>
<p>Flow definitions are composed of zero or more nodes, the first node is always the entry node.</p>
<p>A Node consists of:</p>
<ul>
<li><code>uuid</code> the UUID</li>
<li><code>actions</code> a list of 0-n actions which will be executed upon first entering a node</li>
<li><code>wait</code> an optional pause in the flow waiting for some event to occur, such as a contact responding, a timeout for that response or a subflow completing</li>
<li><code>exit</code> a list of 0-n exits which can be used to link to other nodes</li>
<li><code>router</code> an optional router which determines which exit to take</li>
</ul>
<p>At its simplest, a node can be just a single action with no exits, wait or router, such as:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span><span class="st">&quot;5a06445e-d790-4bd3-a10b-b47bdcc9abed&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">    <span class="dt">&quot;actions&quot;</span><span class="fu">:</span><span class="ot">[</span><span class="fu">{</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;abc0a2bf-6b4a-4ee0-83e1-1eebae6948ac&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;send_msg&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">        <span class="dt">&quot;text&quot;</span><span class="fu">:</span> <span class="st">&quot;What is your name?&quot;</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7">    <span class="fu">}</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="fu">}</span></a></code></pre></div>
<p>If a node wishes to route to another node, it can do so by defining one or more exits, each with the UUID of the node that is next. Without a router defined, the first exit will always be taken.</p>
<p>An exit consists of:</p>
<ul>
<li><code>uuid</code> the UUID</li>
<li><code>destination_node_uuid</code> the uuid of the node that should be visited if this exit is chosen by the router (optional)</li>
<li><code>name</code> a name for this exit (optional)</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span><span class="st">&quot;5a06445e-d790-4bd3-a10b-b47bdcc9abed&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">    <span class="dt">&quot;actions&quot;</span><span class="fu">:</span><span class="ot">[</span><span class="fu">{</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;abc0a2bf-6b4a-4ee0-83e1-1eebae6948ac&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;send_msg&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">        <span class="dt">&quot;text&quot;</span><span class="fu">:</span> <span class="st">&quot;What is your name?&quot;</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">    <span class="fu">}</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">    <span class="dt">&quot;exits&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="fu">{</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span><span class="st">&quot;eb7defc9-3c66-4dfc-80bc-825567ccd9de&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10">        <span class="dt">&quot;destination_node_uuid&quot;</span><span class="fu">:</span><span class="st">&quot;ee0bee3f-34b3-4275-af78-f9ff52c82e6a&quot;</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11">    <span class="fu">}</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="fu">}</span></a></code></pre></div>
<h1 id="routers">Routers</h1>
<h2 id="switch">Switch</h2>
<p>If a node wishes to route differently based on some state, it can add a <code>switch</code> router which defines one or more <code>cases</code>. Each case defines a <code>type</code> which is the name of an expression function that is run by passing the evaluation of <code>operand</code> as the first argument. Cases may define additional arguments using the <code>arguments</code> array on a case. If no case evaluates to true, then the <code>default_exit_uuid</code> will be used otherwise flow execution will stop.</p>
<p>A switch router may also define a <code>result_name</code> parameters which will save the result of the case which evaluated as true.</p>
<p>A switch router consists of:</p>
<ul>
<li><code>operand</code> the expression which will be evaluated against each of our cases</li>
<li><code>default_exit_uuid</code> the uuid of the default exit to take if no case matches (optional)</li>
<li><code>result_name</code> the name of the result which should be written when the switch is evaluated (optional)</li>
<li><code>cases</code> a list of 1-n cases which are evaluated in order until one is true</li>
</ul>
<p>Each case consists of:</p>
<ul>
<li><code>uuid</code> the UUID</li>
<li><code>type</code> the type of this test, this must be an excellent test (see below) and will be passed the value of the switch’s operand as its first value</li>
<li><code>arguments</code> an optional list of templates which can be passed as extra parameters to the test (after the initial operand)</li>
<li><code>exit_uuid</code> the uuid of the exit that should be taken if this case evaluated to true</li>
</ul>
<p>An example switch router that tests for the input not being empty:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span><span class="st">&quot;ee0bee3f-34b3-4275-af78-f9ff52c82e6a&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">    <span class="dt">&quot;router&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span><span class="st">&quot;switch&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5">        <span class="dt">&quot;operand&quot;</span><span class="fu">:</span> <span class="st">&quot;@input&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">        <span class="dt">&quot;default_exit_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;9574fbfd-510f-4dfc-b989-97d2aecf50b9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7">        <span class="dt">&quot;cases&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="fu">{</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;6f78d564-029b-4715-b8d4-b28daeae4f24&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;has_text&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10">            <span class="dt">&quot;exit_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;cab600f5-b54b-49b9-a7ea-5638f4cbf2b4&quot;</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11">        <span class="fu">}</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13">    <span class="dt">&quot;exits&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="fu">{</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span><span class="st">&quot;cab600f5-b54b-49b9-a7ea-5638f4cbf2b4&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span><span class="st">&quot;Has Name&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16">        <span class="dt">&quot;destination_node_uuid&quot;</span><span class="fu">:</span><span class="st">&quot;deec1dd4-b727-4b21-800a-0b7bbd146a82&quot;</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17">    <span class="fu">}</span><span class="ot">,</span><span class="fu">{</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span><span class="st">&quot;9574fbfd-510f-4dfc-b989-97d2aecf50b9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span><span class="st">&quot;Other&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20">        <span class="dt">&quot;destination_node_uuid&quot;</span><span class="fu">:</span><span class="st">&quot;ee0bee3f-34b3-4275-af78-f9ff52c82e6a&quot;</span></a>
<a class="sourceLine" id="cb4-21" data-line-number="21">    <span class="fu">}</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb4-22" data-line-number="22"><span class="fu">}</span></a></code></pre></div>
<h1 id="waits">Waits</h1>
<p>A node can indicate that it needs more information to continue by containing a wait.</p>
<h2 id="msg">Msg</h2>
<p>This wait type indicates that flow execution should pause until an incoming message is received and also gives an optional timeout in seconds as to when the flow should continue even if there is no reply:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;msg&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">    <span class="dt">&quot;timeout&quot;</span><span class="fu">:</span> <span class="dv">600</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="fu">}</span></a></code></pre></div>
<h2 id="nothing">Nothing</h2>
<p>This wait type indicates that the caller can resume the session immediately with no incoming message or any other input. This type of wait enables the caller to commit changes in the session up to that point in the flow.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;nothing&quot;</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="fu">}</span></a></code></pre></div>
<h1 id="actions">Actions</h1>
<p>Actions on a node generate events which can then be ingested by the engine container. In some cases the actions cause an immediate action, such as calling a webhook, in others the engine container is responsible for taking the action based on the event that is output, such as sending messages or updating contact fields. In either case the internal state of the engine is always updated to represent the new state so that flow execution is consistent. For example, while the engine itself does not have access to a contact store, it updates its internal representation of a contact’s state based on action performed on a flow so that later references in the flow are correct.</p>
<div class="actions">
<p><a name="action:add_contact_groups"></a></p>
<h2 id="add_contact_groups">add_contact_groups</h2>
<p>Can be used to add a contact to one or more groups. A <a href="sessions.html#event:contact_groups_changed">contact_groups_changed</a> event will be created for the groups which the contact has been added to.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;add_contact_groups&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">    <span class="dt">&quot;groups&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;1e1ce1e1-9288-4504-869e-022d1003c72a&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Customers&quot;</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;contact_groups_changed&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;688e64f9-2456-4b42-afcb-91a2073e5459&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5">    <span class="dt">&quot;groups_added&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;1e1ce1e1-9288-4504-869e-022d1003c72a&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Customers&quot;</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:add_contact_urn"></a></p>
<h2 id="add_contact_urn">add_contact_urn</h2>
<p>Can be used to add a URN to the current contact. A <a href="sessions.html#event:contact_urns_changed">contact_urns_changed</a> event will be created when this action is encountered.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;add_contact_urn&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">    <span class="dt">&quot;scheme&quot;</span><span class="fu">:</span> <span class="st">&quot;tel&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5">    <span class="dt">&quot;path&quot;</span><span class="fu">:</span> <span class="st">&quot;@results.phone_number&quot;</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;contact_urns_changed&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;b6c40a98-ecfa-4266-9853-0310d032b497&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5">    <span class="dt">&quot;urns&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6">        <span class="st">&quot;tel:+12065551212?channel=57f1078f-88aa-46f4-a59a-948a5739c03d&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7">        <span class="st">&quot;twitterid:54784326227#nyaruka&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8">        <span class="st">&quot;mailto:foo@bar.com&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9">        <span class="st">&quot;tel:+12344563452&quot;</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:add_input_labels"></a></p>
<h2 id="add_input_labels">add_input_labels</h2>
<p>Can be used to add labels to the last user input on a flow. An <a href="sessions.html#event:input_labels_added">input_labels_added</a> event will be created with the labels added when this action is encountered. If there is no user input at that point then this action will be ignored.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;add_input_labels&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4">    <span class="dt">&quot;labels&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;3f65d88a-95dc-4140-9451-943e94e06fea&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Spam&quot;</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;input_labels_added&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;2a6725ab-4f62-4c5a-9014-2c868db4022e&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5">    <span class="dt">&quot;input_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;9bf91c2b-ce58-4cef-aacc-281e03f69ab5&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6">    <span class="dt">&quot;labels&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;3f65d88a-95dc-4140-9451-943e94e06fea&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Spam&quot;</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:call_resthook"></a></p>
<h2 id="call_resthook">call_resthook</h2>
<p>Can be used to call a resthook.</p>
<p>A <a href="sessions.html#event:webhook_called">webhook_called</a> event will be created for each subscriber of the resthook with the results of the HTTP call. If the action has <code>result_name</code> set, a result will be created with that name, and if the resthook returns valid JSON, that will be accessible through <code>extra</code> on the result.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;call_resthook&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4">    <span class="dt">&quot;resthook&quot;</span><span class="fu">:</span> <span class="st">&quot;new-registration&quot;</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;webhook_called&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;644592ee-11ad-4bc4-9566-6fb2598c32d6&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5">    <span class="dt">&quot;url&quot;</span><span class="fu">:</span> <span class="st">&quot;http://localhost:49998/?cmd=success&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6">    <span class="dt">&quot;resthook&quot;</span><span class="fu">:</span> <span class="st">&quot;new-registration&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7">    <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;success&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8">    <span class="dt">&quot;elapsed_ms&quot;</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9">    <span class="dt">&quot;request&quot;</span><span class="fu">:</span> <span class="st">&quot;POST /?cmd=success HTTP/1.1</span><span class="ch">\r\n</span><span class="st">Host: localhost:49998</span><span class="ch">\r\n</span><span class="st">User-Agent: goflow-testing</span><span class="ch">\r\n</span><span class="st">Content-Length: 2403</span><span class="ch">\r\n</span><span class="st">Content-Type: application/json</span><span class="ch">\r\n</span><span class="st">Accept-Encoding: gzip</span><span class="ch">\r\n\r\n</span><span class="st">{</span><span class="ch">\n\t\&quot;</span><span class="st">contact</span><span class="ch">\&quot;</span><span class="st">: {</span><span class="ch">\&quot;</span><span class="st">uuid</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">5d76d86b-3bb9-4d5a-b822-c9d86f5d8e4f</span><span class="ch">\&quot;</span><span class="st">, </span><span class="ch">\&quot;</span><span class="st">name</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">Ryan Lewis</span><span class="ch">\&quot;</span><span class="st">, </span><span class="ch">\&quot;</span><span class="st">urn</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">tel:+12065551212</span><span class="ch">\&quot;</span><span class="st">},</span><span class="ch">\n\t\&quot;</span><span class="st">flow</span><span class="ch">\&quot;</span><span class="st">: {</span><span class="ch">\&quot;</span><span class="st">name</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Registration</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">revision</span><span class="ch">\&quot;</span><span class="st">:123,</span><span class="ch">\&quot;</span><span class="st">uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">50c3706e-fedb-42c0-8eab-dda3335714b7</span><span class="ch">\&quot;</span><span class="st">},</span><span class="ch">\n\t\&quot;</span><span class="st">path</span><span class="ch">\&quot;</span><span class="st">: [{</span><span class="ch">\&quot;</span><span class="st">arrived_on</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">2018-04-11T18:24:30.123456Z</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">exit_uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">d7a36118-0a38-4b35-a7e4-ae89042f0d3c</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">node_uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">72a1f5df-49f9-45df-94c9-d86f7ea064e5</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">229bd432-dac7-4a3f-ba91-c48ad8c50e6b</span><span class="ch">\&quot;</span><span class="st">},{</span><span class="ch">\&quot;</span><span class="st">arrived_on</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">2018-04-11T18:24:30.123456Z</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">exit_uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">37d8813f-1402-4ad2-9cc2-e9054a96525b</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">node_uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">3dcccbb4-d29c-41dd-a01f-16d814c9ab82</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">5254b218-3673-41f2-b63d-c8dcc2fa9de0</span><span class="ch">\&quot;</span><span class="st">},{</span><span class="ch">\&quot;</span><span class="st">arrived_on</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">2018-04-11T18:24:30.123456Z</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">exit_uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">d898f9a4-f0fc-4ac4-a639-c98c602bb511</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">node_uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">f5bb9b7a-7b5e-45c3-8f0e-61b4e95edf03</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">951242a1-5333-4221-8f9d-465efd6fbb5e</span><span class="ch">\&quot;</span><span class="st">},{</span><span class="ch">\&quot;</span><span class="st">arrived_on</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">2018-04-11T18:24:30.123456Z</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">exit_uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">node_uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">c0781400-737f-4940-9a6c-1ec1c3df0325</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">644592ee-11ad-4bc4-9566-6fb2598c32d6</span><span class="ch">\&quot;</span><span class="st">}],</span><span class="ch">\n\t\&quot;</span><span class="st">results</span><span class="ch">\&quot;</span><span class="st">: {</span><span class="ch">\&quot;</span><span class="st">favorite_color</span><span class="ch">\&quot;</span><span class="st">:{</span><span class="ch">\&quot;</span><span class="st">category</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Red</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">category_localized</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Red</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">created_on</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">2018-04-11T18:24:30.123456Z</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">input</span><span class="ch">\&quot;</span><span class="st">:null,</span><span class="ch">\&quot;</span><span class="st">name</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Favorite Color</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">node_uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">f5bb9b7a-7b5e-45c3-8f0e-61b4e95edf03</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">value</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">red</span><span class="ch">\&quot;</span><span class="st">},</span><span class="ch">\&quot;</span><span class="st">phone_number</span><span class="ch">\&quot;</span><span class="st">:{</span><span class="ch">\&quot;</span><span class="st">category</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">category_localized</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">created_on</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">2018-04-11T18:24:30.123456Z</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">input</span><span class="ch">\&quot;</span><span class="st">:null,</span><span class="ch">\&quot;</span><span class="st">name</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Phone Number</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">node_uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">f5bb9b7a-7b5e-45c3-8f0e-61b4e95edf03</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">value</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">+12344563452</span><span class="ch">\&quot;</span><span class="st">},</span><span class="ch">\&quot;</span><span class="st">webhook</span><span class="ch">\&quot;</span><span class="st">:{</span><span class="ch">\&quot;</span><span class="st">category</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Success</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">category_localized</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Success</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">created_on</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">2018-04-11T18:24:30.123456Z</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">input</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">GET http://localhost:49998/?cmd=echo&amp;content=%7B%22results%22%3A%5B%7B%22state%22%3A%22WA%22%7D%2C%7B%22state%22%3A%22IN%22%7D%5D%7D</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">name</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">webhook</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">node_uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">f5bb9b7a-7b5e-45c3-8f0e-61b4e95edf03</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">value</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">200</span><span class="ch">\&quot;</span><span class="st">}},</span><span class="ch">\n\t\&quot;</span><span class="st">run</span><span class="ch">\&quot;</span><span class="st">: {</span><span class="ch">\&quot;</span><span class="st">uuid</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">da339edd-083b-48cb-bef6-3979f99a96f9</span><span class="ch">\&quot;</span><span class="st">, </span><span class="ch">\&quot;</span><span class="st">created_on</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">2018-04-11T18:24:30.123456Z</span><span class="ch">\&quot;</span><span class="st">},</span><span class="ch">\n\t\&quot;</span><span class="st">input</span><span class="ch">\&quot;</span><span class="st">: {</span><span class="ch">\&quot;</span><span class="st">attachments</span><span class="ch">\&quot;</span><span class="st">:[{</span><span class="ch">\&quot;</span><span class="st">content_type</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">image/jpeg</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">url</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">http://s3.amazon.com/bucket/test.jpg</span><span class="ch">\&quot;</span><span class="st">},{</span><span class="ch">\&quot;</span><span class="st">content_type</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">audio/mp3</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">url</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">http://s3.amazon.com/bucket/test.mp3</span><span class="ch">\&quot;</span><span class="st">}],</span><span class="ch">\&quot;</span><span class="st">channel</span><span class="ch">\&quot;</span><span class="st">:{</span><span class="ch">\&quot;</span><span class="st">address</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">+12345671111</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">name</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">My Android Phone</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">57f1078f-88aa-46f4-a59a-948a5739c03d</span><span class="ch">\&quot;</span><span class="st">},</span><span class="ch">\&quot;</span><span class="st">created_on</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">2017-12-31T11:35:10.035757-02:00</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">text</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Hi there</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">type</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">msg</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">urn</span><span class="ch">\&quot;</span><span class="st">:{</span><span class="ch">\&quot;</span><span class="st">display</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">path</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">+12065551212</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">scheme</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">tel</span><span class="ch">\&quot;</span><span class="st">},</span><span class="ch">\&quot;</span><span class="st">uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">9bf91c2b-ce58-4cef-aacc-281e03f69ab5</span><span class="ch">\&quot;</span><span class="st">},</span><span class="ch">\n\t\&quot;</span><span class="st">channel</span><span class="ch">\&quot;</span><span class="st">: {</span><span class="ch">\&quot;</span><span class="st">address</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">+12345671111</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">name</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">My Android Phone</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">uuid</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">57f1078f-88aa-46f4-a59a-948a5739c03d</span><span class="ch">\&quot;</span><span class="st">}</span><span class="ch">\n</span><span class="st">}&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10">    <span class="dt">&quot;response&quot;</span><span class="fu">:</span> <span class="st">&quot;HTTP/1.1 200 OK</span><span class="ch">\r\n</span><span class="st">Content-Length: 16</span><span class="ch">\r\n</span><span class="st">Content-Type: text/plain; charset=utf-8</span><span class="ch">\r\n</span><span class="st">Date: Wed, 11 Apr 2018 18:24:30 GMT</span><span class="ch">\r\n\r\n</span><span class="st">{ </span><span class="ch">\&quot;</span><span class="st">ok</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">true</span><span class="ch">\&quot;</span><span class="st"> }&quot;</span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:call_webhook"></a></p>
<h2 id="call_webhook">call_webhook</h2>
<p>Can be used to call an external service. The body, header and url fields may be templates and will be evaluated at runtime. A <a href="sessions.html#event:webhook_called">webhook_called</a> event will be created based on the results of the HTTP call. If this action has a <code>result_name</code>, then addtionally it will create a new result with that name. If the webhook returned valid JSON, that will be accessible through <code>extra</code> on the result.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;call_webhook&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4">    <span class="dt">&quot;method&quot;</span><span class="fu">:</span> <span class="st">&quot;GET&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5">    <span class="dt">&quot;url&quot;</span><span class="fu">:</span> <span class="st">&quot;http://localhost:49998/?cmd=success&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6">    <span class="dt">&quot;headers&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7">        <span class="dt">&quot;Authorization&quot;</span><span class="fu">:</span> <span class="st">&quot;Token AAFFZZHH&quot;</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9">    <span class="dt">&quot;result_name&quot;</span><span class="fu">:</span> <span class="st">&quot;webhook&quot;</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="ot">[</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;webhook_called&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4">        <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5">        <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;5fa51f39-76ea-421c-a71b-fe4af29b871a&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6">        <span class="dt">&quot;url&quot;</span><span class="fu">:</span> <span class="st">&quot;http://localhost:49998/?cmd=success&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7">        <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;success&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8">        <span class="dt">&quot;elapsed_ms&quot;</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9">        <span class="dt">&quot;request&quot;</span><span class="fu">:</span> <span class="st">&quot;GET /?cmd=success HTTP/1.1</span><span class="ch">\r\n</span><span class="st">Host: localhost:49998</span><span class="ch">\r\n</span><span class="st">User-Agent: goflow-testing</span><span class="ch">\r\n</span><span class="st">Authorization: Token AAFFZZHH</span><span class="ch">\r\n</span><span class="st">Accept-Encoding: gzip</span><span class="ch">\r\n\r\n</span><span class="st">&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-10" data-line-number="10">        <span class="dt">&quot;response&quot;</span><span class="fu">:</span> <span class="st">&quot;HTTP/1.1 200 OK</span><span class="ch">\r\n</span><span class="st">Content-Length: 16</span><span class="ch">\r\n</span><span class="st">Content-Type: text/plain; charset=utf-8</span><span class="ch">\r\n</span><span class="st">Date: Wed, 11 Apr 2018 18:24:30 GMT</span><span class="ch">\r\n\r\n</span><span class="st">{ </span><span class="ch">\&quot;</span><span class="st">ok</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">true</span><span class="ch">\&quot;</span><span class="st"> }&quot;</span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11">    <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb16-12" data-line-number="12">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb16-13" data-line-number="13">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;run_result_changed&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-14" data-line-number="14">        <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-15" data-line-number="15">        <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;5fa51f39-76ea-421c-a71b-fe4af29b871a&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-16" data-line-number="16">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;webhook&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-17" data-line-number="17">        <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="st">&quot;200&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-18" data-line-number="18">        <span class="dt">&quot;category&quot;</span><span class="fu">:</span> <span class="st">&quot;Success&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-19" data-line-number="19">        <span class="dt">&quot;input&quot;</span><span class="fu">:</span> <span class="st">&quot;GET http://localhost:49998/?cmd=success&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb16-20" data-line-number="20">        <span class="dt">&quot;extra&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb16-21" data-line-number="21">            <span class="dt">&quot;ok&quot;</span><span class="fu">:</span> <span class="st">&quot;true&quot;</span></a>
<a class="sourceLine" id="cb16-22" data-line-number="22">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb16-23" data-line-number="23">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb16-24" data-line-number="24"><span class="ot">]</span></a></code></pre></div>
</div>
<p><a name="action:remove_contact_groups"></a></p>
<h2 id="remove_contact_groups">remove_contact_groups</h2>
<p>Can be used to remove a contact from one or more groups. A <a href="sessions.html#event:contact_groups_changed">contact_groups_changed</a> event will be created for the groups which the contact is removed from. Groups can either be explicitly provided or <code>all_groups</code> can be set to true to remove the contact from all non-dynamic groups.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;remove_contact_groups&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4">    <span class="dt">&quot;groups&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;b7cf0d83-f1c9-411c-96fd-c511a4cfa86d&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Registered Users&quot;</span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10">    <span class="dt">&quot;all_groups&quot;</span><span class="fu">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;contact_groups_changed&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;530379ca-3fa7-4959-8ceb-17799a976525&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5">    <span class="dt">&quot;groups_removed&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;b7cf0d83-f1c9-411c-96fd-c511a4cfa86d&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb18-8" data-line-number="8">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Testers&quot;</span></a>
<a class="sourceLine" id="cb18-9" data-line-number="9">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb18-10" data-line-number="10">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb18-11" data-line-number="11"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:send_broadcast"></a></p>
<h2 id="send_broadcast">send_broadcast</h2>
<p>Can be used to send a message to one or more contacts. It accepts a list of URNs, a list of groups and a list of contacts.</p>
<p>The URNs and text fields may be templates. A <a href="sessions.html#event:broadcast_created">broadcast_created</a> event will be created for each unique urn, contact and group with the evaluated text.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;send_broadcast&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb19-4" data-line-number="4">    <span class="dt">&quot;text&quot;</span><span class="fu">:</span> <span class="st">&quot;Hi @contact.name, are you ready to complete today&#39;s survey?&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5">    <span class="dt">&quot;attachments&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6">    <span class="dt">&quot;urns&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb19-7" data-line-number="7">        <span class="st">&quot;tel:+12065551212&quot;</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;broadcast_created&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb20-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;5861c68a-8201-4d77-9e14-020037f6ddea&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb20-5" data-line-number="5">    <span class="dt">&quot;translations&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb20-6" data-line-number="6">        <span class="dt">&quot;eng&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb20-7" data-line-number="7">            <span class="dt">&quot;text&quot;</span><span class="fu">:</span> <span class="st">&quot;Hi Ryan Lewis, are you ready to complete today&#39;s survey?&quot;</span></a>
<a class="sourceLine" id="cb20-8" data-line-number="8">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb20-9" data-line-number="9">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb20-10" data-line-number="10">    <span class="dt">&quot;base_language&quot;</span><span class="fu">:</span> <span class="st">&quot;eng&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb20-11" data-line-number="11">    <span class="dt">&quot;urns&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb20-12" data-line-number="12">        <span class="st">&quot;tel:+12065551212&quot;</span></a>
<a class="sourceLine" id="cb20-13" data-line-number="13">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb20-14" data-line-number="14"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:send_email"></a></p>
<h2 id="send_email">send_email</h2>
<p>Can be used to send an email to one or more recipients. The subject, body and addresses can all contain expressions.</p>
<p>An <a href="sessions.html#event:email_created">email_created</a> event will be created for each email address.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;send_email&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4">    <span class="dt">&quot;addresses&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5">        <span class="st">&quot;@contact.urns.mailto.0&quot;</span></a>
<a class="sourceLine" id="cb21-6" data-line-number="6">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-7" data-line-number="7">    <span class="dt">&quot;subject&quot;</span><span class="fu">:</span> <span class="st">&quot;Here is your activation token&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-8" data-line-number="8">    <span class="dt">&quot;body&quot;</span><span class="fu">:</span> <span class="st">&quot;Your activation token is @contact.fields.activation_token&quot;</span></a>
<a class="sourceLine" id="cb21-9" data-line-number="9"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;email_created&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;06b98e9d-825f-4be0-92f0-b4a6fcc7080c&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb22-5" data-line-number="5">    <span class="dt">&quot;addresses&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb22-6" data-line-number="6">        <span class="st">&quot;foo@bar.com&quot;</span></a>
<a class="sourceLine" id="cb22-7" data-line-number="7">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb22-8" data-line-number="8">    <span class="dt">&quot;subject&quot;</span><span class="fu">:</span> <span class="st">&quot;Here is your activation token&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb22-9" data-line-number="9">    <span class="dt">&quot;body&quot;</span><span class="fu">:</span> <span class="st">&quot;Your activation token is AACC55&quot;</span></a>
<a class="sourceLine" id="cb22-10" data-line-number="10"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:send_msg"></a></p>
<h2 id="send_msg">send_msg</h2>
<p>Can be used to reply to the current contact in a flow. The text field may contain templates. The action will attempt to find pairs of URNs and channels which can be used for sending. If it can’t find such a pair, it will create a message without a channel or URN.</p>
<p>A <a href="sessions.html#event:msg_created">msg_created</a> event will be created with the evaluated text.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb23"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;send_msg&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb23-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb23-4" data-line-number="4">    <span class="dt">&quot;text&quot;</span><span class="fu">:</span> <span class="st">&quot;Hi @contact.name, are you ready to complete today&#39;s survey?&quot;</span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;msg_created&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;aa863fa2-cb90-435f-802a-9fffea2a27fa&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-5" data-line-number="5">    <span class="dt">&quot;msg&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb24-6" data-line-number="6">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;9a7e02cb-5b84-4117-b890-8b948fb200a6&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-7" data-line-number="7">        <span class="dt">&quot;urn&quot;</span><span class="fu">:</span> <span class="st">&quot;tel:+12065551212?channel=57f1078f-88aa-46f4-a59a-948a5739c03d&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-8" data-line-number="8">        <span class="dt">&quot;channel&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb24-9" data-line-number="9">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;57f1078f-88aa-46f4-a59a-948a5739c03d&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb24-10" data-line-number="10">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;My Android Phone&quot;</span></a>
<a class="sourceLine" id="cb24-11" data-line-number="11">        <span class="fu">},</span></a>
<a class="sourceLine" id="cb24-12" data-line-number="12">        <span class="dt">&quot;text&quot;</span><span class="fu">:</span> <span class="st">&quot;Hi Ryan Lewis, are you ready to complete today&#39;s survey?&quot;</span></a>
<a class="sourceLine" id="cb24-13" data-line-number="13">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb24-14" data-line-number="14"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:set_contact_channel"></a></p>
<h2 id="set_contact_channel">set_contact_channel</h2>
<p>Can be used to change or clear the preferred channel of the current contact.</p>
<p>Because channel affinity is a property of a contact’s URNs, a <a href="sessions.html#event:contact_urns_changed">contact_urns_changed</a> event will be created if any changes are made to the contact’s URNs.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb25"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;set_contact_channel&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-4" data-line-number="4">    <span class="dt">&quot;channel&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb25-5" data-line-number="5">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;4bb288a0-7fca-4da1-abe8-59a593aff648&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb25-6" data-line-number="6">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;FAcebook Channel&quot;</span></a>
<a class="sourceLine" id="cb25-7" data-line-number="7">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb25-8" data-line-number="8"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb26"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="ot">[]</span></a></code></pre></div>
</div>
<p><a name="action:set_contact_field"></a></p>
<h2 id="set_contact_field">set_contact_field</h2>
<p>Can be used to update a field value on the contact. The value is a localizable template and white space is trimmed from the final value. An empty string clears the value. A <a href="sessions.html#event:contact_field_changed">contact_field_changed</a> event will be created with the corresponding value.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;set_contact_field&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb27-4" data-line-number="4">    <span class="dt">&quot;field&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb27-5" data-line-number="5">        <span class="dt">&quot;key&quot;</span><span class="fu">:</span> <span class="st">&quot;gender&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb27-6" data-line-number="6">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Gender&quot;</span></a>
<a class="sourceLine" id="cb27-7" data-line-number="7">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb27-8" data-line-number="8">    <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="st">&quot;Female&quot;</span></a>
<a class="sourceLine" id="cb27-9" data-line-number="9"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;contact_field_changed&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;fbce9f1c-ddff-45f4-8d46-86b76f70a6a6&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb28-5" data-line-number="5">    <span class="dt">&quot;field&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb28-6" data-line-number="6">        <span class="dt">&quot;key&quot;</span><span class="fu">:</span> <span class="st">&quot;gender&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb28-7" data-line-number="7">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Gender&quot;</span></a>
<a class="sourceLine" id="cb28-8" data-line-number="8">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb28-9" data-line-number="9">    <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb28-10" data-line-number="10">        <span class="dt">&quot;text&quot;</span><span class="fu">:</span> <span class="st">&quot;Female&quot;</span></a>
<a class="sourceLine" id="cb28-11" data-line-number="11">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb28-12" data-line-number="12"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:set_contact_language"></a></p>
<h2 id="set_contact_language">set_contact_language</h2>
<p>Can be used to update the name of the contact. The language is a localizable template and white space is trimmed from the final value. An empty string clears the language. A <a href="sessions.html#event:contact_language_changed">contact_language_changed</a> event will be created with the corresponding value.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb29"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;set_contact_language&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb29-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4">    <span class="dt">&quot;language&quot;</span><span class="fu">:</span> <span class="st">&quot;eng&quot;</span></a>
<a class="sourceLine" id="cb29-5" data-line-number="5"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="ot">[]</span></a></code></pre></div>
</div>
<p><a name="action:set_contact_name"></a></p>
<h2 id="set_contact_name">set_contact_name</h2>
<p>Can be used to update the name of the contact. The name is a localizable template and white space is trimmed from the final value. An empty string clears the name. A <a href="sessions.html#event:contact_name_changed">contact_name_changed</a> event will be created with the corresponding value.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb31"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;set_contact_name&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb31-4" data-line-number="4">    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Bob Smith&quot;</span></a>
<a class="sourceLine" id="cb31-5" data-line-number="5"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb32"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;contact_name_changed&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;e0e8ce1b-5368-4e92-ba1b-6cc3bea197e4&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb32-5" data-line-number="5">    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Bob Smith&quot;</span></a>
<a class="sourceLine" id="cb32-6" data-line-number="6"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:set_contact_timezone"></a></p>
<h2 id="set_contact_timezone">set_contact_timezone</h2>
<p>Can be used to update the timezone of the contact. The timezone is a localizable template and white space is trimmed from the final value. An empty string clears the timezone. A <a href="sessions.html#event:contact_timezone_changed">contact_timezone_changed</a> event will be created with the corresponding value.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;set_contact_timezone&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb33-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb33-4" data-line-number="4">    <span class="dt">&quot;timezone&quot;</span><span class="fu">:</span> <span class="st">&quot;Africa/Kigali&quot;</span></a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb34"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;contact_timezone_changed&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;e6e30b78-f9c1-462b-9418-6d3e4ae5a100&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb34-5" data-line-number="5">    <span class="dt">&quot;timezone&quot;</span><span class="fu">:</span> <span class="st">&quot;Africa/Kigali&quot;</span></a>
<a class="sourceLine" id="cb34-6" data-line-number="6"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:set_run_result"></a></p>
<h2 id="set_run_result">set_run_result</h2>
<p>Can be used to save a result for a flow. The result will be available in the context for the run as <span class="citation" data-cites="results">@results</span>.[name]. The optional category can be used as a way of categorizing results, this can be useful for reporting or analytics.</p>
<p>Both the value and category fields may be templates. A <a href="sessions.html#event:run_result_changed">run_result_changed</a> event will be created with the final values.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb35"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;set_run_result&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb35-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb35-4" data-line-number="4">    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Gender&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb35-5" data-line-number="5">    <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="st">&quot;m&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb35-6" data-line-number="6">    <span class="dt">&quot;category&quot;</span><span class="fu">:</span> <span class="st">&quot;Male&quot;</span></a>
<a class="sourceLine" id="cb35-7" data-line-number="7"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb36"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb36-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;run_result_changed&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb36-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb36-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;17de0954-e818-46a3-89c9-308c16612438&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb36-5" data-line-number="5">    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Gender&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb36-6" data-line-number="6">    <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="st">&quot;m&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb36-7" data-line-number="7">    <span class="dt">&quot;category&quot;</span><span class="fu">:</span> <span class="st">&quot;Male&quot;</span></a>
<a class="sourceLine" id="cb36-8" data-line-number="8"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:start_flow"></a></p>
<h2 id="start_flow">start_flow</h2>
<p>Can be used to start a contact down another flow. The current flow will pause until the subflow exits or expires.</p>
<p>A <a href="sessions.html#event:flow_triggered">flow_triggered</a> event will be created to record that the flow was started.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb37"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;start_flow&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb37-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb37-4" data-line-number="4">    <span class="dt">&quot;flow&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb37-5" data-line-number="5">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;b7cf0d83-f1c9-411c-96fd-c511a4cfa86d&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb37-6" data-line-number="6">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Collect Language&quot;</span></a>
<a class="sourceLine" id="cb37-7" data-line-number="7">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb37-8" data-line-number="8">    <span class="dt">&quot;terminal&quot;</span><span class="fu">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb37-9" data-line-number="9"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb38"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;flow_triggered&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb38-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb38-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;2e69f97c-4e50-408f-93ca-b93dc25ffd65&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb38-5" data-line-number="5">    <span class="dt">&quot;flow&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb38-6" data-line-number="6">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;b7cf0d83-f1c9-411c-96fd-c511a4cfa86d&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb38-7" data-line-number="7">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Collect Language&quot;</span></a>
<a class="sourceLine" id="cb38-8" data-line-number="8">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb38-9" data-line-number="9">    <span class="dt">&quot;parent_run_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;936fea74-7589-4322-aac5-484f64970a84&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb38-10" data-line-number="10">    <span class="dt">&quot;terminal&quot;</span><span class="fu">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb38-11" data-line-number="11"><span class="fu">}</span></a></code></pre></div>
</div>
<p><a name="action:start_session"></a></p>
<h2 id="start_session">start_session</h2>
<p>Can be used to trigger sessions for other contacts and groups. A <a href="sessions.html#event:session_triggered">session_triggered</a> event will be created and it’s the responsibility of the caller to act on that by initiating a new session with the flow engine.</p>
<div class="input_action">
<h3>
Action
</h3>
<div class="sourceCode" id="cb39"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb39-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;start_session&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb39-3" data-line-number="3">    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;8eebd020-1af5-431c-b943-aa670fc74da9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb39-4" data-line-number="4">    <span class="dt">&quot;flow&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb39-5" data-line-number="5">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;b7cf0d83-f1c9-411c-96fd-c511a4cfa86d&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb39-6" data-line-number="6">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Registration&quot;</span></a>
<a class="sourceLine" id="cb39-7" data-line-number="7">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb39-8" data-line-number="8">    <span class="dt">&quot;groups&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb39-9" data-line-number="9">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb39-10" data-line-number="10">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;1e1ce1e1-9288-4504-869e-022d1003c72a&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb39-11" data-line-number="11">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Customers&quot;</span></a>
<a class="sourceLine" id="cb39-12" data-line-number="12">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb39-13" data-line-number="13">    <span class="ot">]</span></a>
<a class="sourceLine" id="cb39-14" data-line-number="14"><span class="fu">}</span></a></code></pre></div>
</div>
<div class="output_event">
<h3>
Event
</h3>
<div class="sourceCode" id="cb40"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb40-2" data-line-number="2">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;session_triggered&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-3" data-line-number="3">    <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-4" data-line-number="4">    <span class="dt">&quot;step_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;77405d28-851d-4051-a8e1-fc82b887c3ff&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-5" data-line-number="5">    <span class="dt">&quot;flow&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-6" data-line-number="6">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;b7cf0d83-f1c9-411c-96fd-c511a4cfa86d&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-7" data-line-number="7">        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Registration&quot;</span></a>
<a class="sourceLine" id="cb40-8" data-line-number="8">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb40-9" data-line-number="9">    <span class="dt">&quot;groups&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb40-10" data-line-number="10">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-11" data-line-number="11">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;1e1ce1e1-9288-4504-869e-022d1003c72a&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-12" data-line-number="12">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Customers&quot;</span></a>
<a class="sourceLine" id="cb40-13" data-line-number="13">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb40-14" data-line-number="14">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-15" data-line-number="15">    <span class="dt">&quot;run_summary&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-16" data-line-number="16">        <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;77edcde6-5d7c-4ae9-b660-52c755c4d15c&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-17" data-line-number="17">        <span class="dt">&quot;flow&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-18" data-line-number="18">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;50c3706e-fedb-42c0-8eab-dda3335714b7&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-19" data-line-number="19">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Registration&quot;</span></a>
<a class="sourceLine" id="cb40-20" data-line-number="20">        <span class="fu">},</span></a>
<a class="sourceLine" id="cb40-21" data-line-number="21">        <span class="dt">&quot;contact&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-22" data-line-number="22">            <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;5d76d86b-3bb9-4d5a-b822-c9d86f5d8e4f&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-23" data-line-number="23">            <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">1234567</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-24" data-line-number="24">            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Ryan Lewis&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-25" data-line-number="25">            <span class="dt">&quot;language&quot;</span><span class="fu">:</span> <span class="st">&quot;eng&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-26" data-line-number="26">            <span class="dt">&quot;timezone&quot;</span><span class="fu">:</span> <span class="st">&quot;America/Guayaquil&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-27" data-line-number="27">            <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-06-20T11:40:30.123456789Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-28" data-line-number="28">            <span class="dt">&quot;urns&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb40-29" data-line-number="29">                <span class="st">&quot;tel:+12065551212?channel=57f1078f-88aa-46f4-a59a-948a5739c03d&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb40-30" data-line-number="30">                <span class="st">&quot;twitterid:54784326227#nyaruka&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb40-31" data-line-number="31">                <span class="st">&quot;mailto:foo@bar.com&quot;</span></a>
<a class="sourceLine" id="cb40-32" data-line-number="32">            <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-33" data-line-number="33">            <span class="dt">&quot;groups&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb40-34" data-line-number="34">                <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-35" data-line-number="35">                    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;b7cf0d83-f1c9-411c-96fd-c511a4cfa86d&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-36" data-line-number="36">                    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Testers&quot;</span></a>
<a class="sourceLine" id="cb40-37" data-line-number="37">                <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb40-38" data-line-number="38">                <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-39" data-line-number="39">                    <span class="dt">&quot;uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;4f1f98fc-27a7-4a69-bbdb-24744ba739a9&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-40" data-line-number="40">                    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Males&quot;</span></a>
<a class="sourceLine" id="cb40-41" data-line-number="41">                <span class="fu">}</span></a>
<a class="sourceLine" id="cb40-42" data-line-number="42">            <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-43" data-line-number="43">            <span class="dt">&quot;fields&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-44" data-line-number="44">                <span class="dt">&quot;activation_token&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-45" data-line-number="45">                    <span class="dt">&quot;text&quot;</span><span class="fu">:</span> <span class="st">&quot;AACC55&quot;</span></a>
<a class="sourceLine" id="cb40-46" data-line-number="46">                <span class="fu">},</span></a>
<a class="sourceLine" id="cb40-47" data-line-number="47">                <span class="dt">&quot;age&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-48" data-line-number="48">                    <span class="dt">&quot;text&quot;</span><span class="fu">:</span> <span class="st">&quot;23&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-49" data-line-number="49">                    <span class="dt">&quot;number&quot;</span><span class="fu">:</span> <span class="dv">23</span></a>
<a class="sourceLine" id="cb40-50" data-line-number="50">                <span class="fu">},</span></a>
<a class="sourceLine" id="cb40-51" data-line-number="51">                <span class="dt">&quot;gender&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-52" data-line-number="52">                    <span class="dt">&quot;text&quot;</span><span class="fu">:</span> <span class="st">&quot;Male&quot;</span></a>
<a class="sourceLine" id="cb40-53" data-line-number="53">                <span class="fu">},</span></a>
<a class="sourceLine" id="cb40-54" data-line-number="54">                <span class="dt">&quot;join_date&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-55" data-line-number="55">                    <span class="dt">&quot;text&quot;</span><span class="fu">:</span> <span class="st">&quot;2017-12-02&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-56" data-line-number="56">                    <span class="dt">&quot;datetime&quot;</span><span class="fu">:</span> <span class="st">&quot;2017-12-02T00:00:00-02:00&quot;</span></a>
<a class="sourceLine" id="cb40-57" data-line-number="57">                <span class="fu">}</span></a>
<a class="sourceLine" id="cb40-58" data-line-number="58">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb40-59" data-line-number="59">        <span class="fu">},</span></a>
<a class="sourceLine" id="cb40-60" data-line-number="60">        <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;active&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-61" data-line-number="61">        <span class="dt">&quot;results&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-62" data-line-number="62">            <span class="dt">&quot;favorite_color&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-63" data-line-number="63">                <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Favorite Color&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-64" data-line-number="64">                <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="st">&quot;red&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-65" data-line-number="65">                <span class="dt">&quot;category&quot;</span><span class="fu">:</span> <span class="st">&quot;Red&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-66" data-line-number="66">                <span class="dt">&quot;node_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;f5bb9b7a-7b5e-45c3-8f0e-61b4e95edf03&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-67" data-line-number="67">                <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span></a>
<a class="sourceLine" id="cb40-68" data-line-number="68">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb40-69" data-line-number="69">            <span class="dt">&quot;phone_number&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-70" data-line-number="70">                <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Phone Number&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-71" data-line-number="71">                <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="st">&quot;+12344563452&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-72" data-line-number="72">                <span class="dt">&quot;node_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;f5bb9b7a-7b5e-45c3-8f0e-61b4e95edf03&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-73" data-line-number="73">                <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span></a>
<a class="sourceLine" id="cb40-74" data-line-number="74">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb40-75" data-line-number="75">            <span class="dt">&quot;webhook&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-76" data-line-number="76">                <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;webhook&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-77" data-line-number="77">                <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="st">&quot;200&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-78" data-line-number="78">                <span class="dt">&quot;category&quot;</span><span class="fu">:</span> <span class="st">&quot;Success&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-79" data-line-number="79">                <span class="dt">&quot;node_uuid&quot;</span><span class="fu">:</span> <span class="st">&quot;f5bb9b7a-7b5e-45c3-8f0e-61b4e95edf03&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-80" data-line-number="80">                <span class="dt">&quot;input&quot;</span><span class="fu">:</span> <span class="st">&quot;GET http://localhost:49998/?cmd=echo</span><span class="ch">\u0026</span><span class="st">content=%7B%22results%22%3A%5B%7B%22state%22%3A%22WA%22%7D%2C%7B%22state%22%3A%22IN%22%7D%5D%7D&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb40-81" data-line-number="81">                <span class="dt">&quot;extra&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-82" data-line-number="82">                    <span class="dt">&quot;results&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb40-83" data-line-number="83">                        <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-84" data-line-number="84">                            <span class="dt">&quot;state&quot;</span><span class="fu">:</span> <span class="st">&quot;WA&quot;</span></a>
<a class="sourceLine" id="cb40-85" data-line-number="85">                        <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb40-86" data-line-number="86">                        <span class="fu">{</span></a>
<a class="sourceLine" id="cb40-87" data-line-number="87">                            <span class="dt">&quot;state&quot;</span><span class="fu">:</span> <span class="st">&quot;IN&quot;</span></a>
<a class="sourceLine" id="cb40-88" data-line-number="88">                        <span class="fu">}</span></a>
<a class="sourceLine" id="cb40-89" data-line-number="89">                    <span class="ot">]</span></a>
<a class="sourceLine" id="cb40-90" data-line-number="90">                <span class="fu">},</span></a>
<a class="sourceLine" id="cb40-91" data-line-number="91">                <span class="dt">&quot;created_on&quot;</span><span class="fu">:</span> <span class="st">&quot;2018-04-11T18:24:30.123456Z&quot;</span></a>
<a class="sourceLine" id="cb40-92" data-line-number="92">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb40-93" data-line-number="93">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb40-94" data-line-number="94">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb40-95" data-line-number="95"><span class="fu">}</span></a></code></pre></div>
</div>
</div>

    </body>
</html>